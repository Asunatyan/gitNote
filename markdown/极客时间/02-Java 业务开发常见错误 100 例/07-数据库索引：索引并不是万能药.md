# InnoDB 是如何存储数据的？



各个数据页组成一个双向链表，每个数据页中的记录按照主键顺序组成单向链表；每一个数据页中有一个页目录，方便按照主键查询记录。数据页的结构如下：

![img](../../../pic/markdown/1302b4a8d877609486c9a9eed2d8d8d1.png)

页目录通过槽把记录分成不同的小组，每个小组有若干条记录。

如图所示，**记录中最前面的小方块中的数字**(比如槽位0,小方块显示的是1,那么就是一条记录,再比如:槽位5,最前面的是记录20,小方块是4代表是这个槽位有4个记录,重下往上)，代表的是当前分组的记录条数，最小和最大的槽指向 2 个特殊的伪记录。

有了槽之后，我们按照主键搜索页中记录时，就可以采用二分法快速搜索，无需从最小记录开始遍历整个页中的记录链表。

# 聚簇索引和二级索引

![img](../../../pic/markdown/e76adf029e63a045e05956039f81f265.png)

B+ 树的特点包括：

- 最底层的节点叫作叶子节点，用来存放数据；
- 其他上层节点叫作非叶子节点，仅用来存放目录项，作为索引；
- 非叶子节点分为不同层次，通过分层来降低每一层的搜索量；
- 所有节点按照索引键大小排序，构成一个双向链表，加速范围查找。























